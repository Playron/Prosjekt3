(this["webpackJsonpsearch-project"]=this["webpackJsonpsearch-project"]||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/card.f40034fe.png"},29:function(e,t,n){},36:function(e,t,n){e.exports=n(66)},41:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),l=n(3),i=(n(41),n(35)),u=n(69),m=n(30),s=n.n(m);n(59),n(60);function d(e){var t=e.showCard,c=e.card_info,o=e.onClose,m=Object(a.useState)(""),d=Object(l.a)(m,2),v=d[0],f=d[1],b=Object(a.useState)([]),h=Object(l.a)(b,2),E=h[0],g=h[1],p=function(){fetch("http://it2810-56.idi.ntnu.no:3000/comments/"+c.movieName).then((function(e){return e.json()})).then((function(e){g(e.reverse())}))};return r.a.createElement("div",null,r.a.createElement(u.a,{show:t,size:"lg",centered:!0},r.a.createElement(u.a.Header,{closeButton:!0,onClick:function(){return o()}},r.a.createElement(u.a.Title,{id:"contained-modal-title-vcenter"},r.a.createElement("div",{className:"movieName"},c.movieName))),r.a.createElement(u.a.Body,null,r.a.createElement("img",{id:"modal-img",src:n(18),alt:"Avatar",style:{display:"table",margin:"0 auto"}}),r.a.createElement("p",{id:"desc"},c.movieDescription),r.a.createElement("br",null),r.a.createElement("div",{className:"commentBox"},r.a.createElement("input",{type:"text",name:"comment",id:"comment",onChange:function(e){f(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Add comment",onClick:function(){var e={username:sessionStorage.getItem("username"),movieName:c.movieName,comment:v};console.log(e),s.a.post("http://it2810-56.idi.ntnu.no:3000/comments/add",e).then((function(){return p()}))}}),r.a.createElement("input",{type:"submit",value:"Get comments",onClick:p})),E.map((function(e,t){return r.a.createElement("div",{className:"comment-section"},r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,e.username),r.a.createElement("p",null,"Comment: ",e.comment)))}))),r.a.createElement(u.a.Footer,null,r.a.createElement("div",{id:"rating"},"Movie rating: ",c.movieRating),r.a.createElement(i.a,{onClick:function(){return o()}},"Close"))))}function v(e){var t=e.movie,c=(e.cardIndex,Object(a.useState)(!1)),o=Object(l.a)(c,2),i=o[0],u=o[1],m=Object(a.useState)(null),s=Object(l.a)(m,2),v=s[0],f=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",onClick:function(){return f(t),void u(!0)}},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:n(18),alt:n(18)})),r.a.createElement("h3",null,t.movieName," (",t.movieYear,")"),r.a.createElement("h4",null,"IMDb-rating: ",t.movieRating)),i?r.a.createElement(d,{showCard:i,card_info:v,onClose:function(){return u(!1)}}):null)}var f=function(e){var t=e.movies,n=Math.min.apply(Math,t.map((function(e){return e.movieYear}))),c=Math.max.apply(Math,t.map((function(e){return e.movieYear}))),o=Object(a.useState)(!1),i=Object(l.a)(o,2),u=i[0],m=i[1],s=Object(a.useState)(!1),d=Object(l.a)(s,2),f=d[0],b=d[1],h=Object(a.useState)(0),E=Object(l.a)(h,2),g=E[0],p=E[1],j=Object(a.useState)(!0),O=Object(l.a)(j,2),N=O[0],C=O[1],S=Object(a.useState)(!0),y=Object(l.a)(S,2),k=y[0],x=y[1],M=Object(a.useState)(!0),I=Object(l.a)(M,2),w=I[0],Y=I[1],B=Object(a.useState)([]),R=Object(l.a)(B,2),T=R[0],A=R[1],D=Object(a.useState)(n),F=Object(l.a)(D,2),H=F[0],J=F[1],P=Object(a.useState)(0),_=Object(l.a)(P,2),z=_[0],G=_[1];Object(a.useEffect)((function(){A(t),p(0),K()}),[t]),Object(a.useEffect)((function(){K()}),[g,12]);var K=function(){var e=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];a.movieRating>=z&&t.push(a)}return t}(t);e=function(e){var t=[];C(0===g),x(e.length<=12*(g+1));for(var n=12*g,a=Math.min(n+12,e.length),r=n;r<a;r++)t.push(e[r]);return t}(e=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];a.movieYear>=H&&t.push(a)}return t}(e)),A(e)},L=function(){p((function(e){return e-1}))},q=function(){p((function(e){return e+1}))};return r.a.createElement("div",{className:"movie"},r.a.createElement("div",{className:"hideshowfilters"},r.a.createElement("button",{className:"filterbutton resultbutton",onClick:function(){Y((function(e){return!e}))}},w?"Show filters":"Hide filters")),r.a.createElement("div",{className:"filterbox",hidden:w},r.a.createElement("div",{className:"filtername"},"CurrentYear: ",H),r.a.createElement("div",{className:"leftvalue"},n),r.a.createElement("input",{className:"filterslider",type:"range",min:n.toString(),max:c.toString(),value:H.toString(),onChange:function(e){return J(parseInt(e.target.value))}}),r.a.createElement("div",{className:"rightvalue"},c),r.a.createElement("br",null),r.a.createElement("div",{className:"filtername"},"Rating: ",z),r.a.createElement("div",{className:"leftvalue"},0),r.a.createElement("input",{className:"filterslider",type:"range",min:"0.0",max:"10.0",step:"0.1",value:z.toString(),onChange:function(e){return G(parseFloat(e.target.value))}}),r.a.createElement("div",{className:"rightvalue"},10),r.a.createElement("br",null),r.a.createElement("button",{className:"filterbutton resultbutton",onClick:K},"Apply filters"),r.a.createElement("button",{className:"filterbutton resultbutton",onClick:function(){var e=t.sort((function(e,t){return e.movieYear<t.movieYear?1:-1}));u&&e.reverse(),A(e),K(),m((function(e){return!e}))}},"Sort on year"),r.a.createElement("button",{className:"filterbutton resultbutton",onClick:function(){var e=t.sort((function(e,t){return e.movieRating<t.movieRating?1:-1}));f&&e.reverse(),A(e),K(),b((function(e){return!e})),console.log(f)}},"Sort on rating")),r.a.createElement("div",{className:"pagebuttons"},r.a.createElement("button",{className:"prevpagebutton resultbutton",onClick:L,hidden:N},"<"),r.a.createElement("button",{className:"nextpagebutton resultbutton",onClick:q,hidden:k},">")),r.a.createElement("div",{className:"container"},T.map((function(e,t){return r.a.createElement(v,{movie:e,cardIndex:t})}))),r.a.createElement("div",{className:"pagebuttons bottombuttons"},r.a.createElement("button",{className:"prevpagebutton resultbutton",onClick:L,hidden:N},"<"),r.a.createElement("button",{className:"nextpagebutton resultbutton",onClick:q,hidden:k},">")))};n(64),n(65);function b(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),i=Object(l.a)(o,2),u=i[0],m=i[1],s=function(){fetch("http://it2810-56.idi.ntnu.no:3000/movies/movietitle/"+n).then((function(e){return e.json()})).then((function(e){m(e)}))};return r.a.createElement("div",null,r.a.createElement("div",{className:"searchBar"},r.a.createElement("input",{id:"bar",type:"text",placeholder:"Input MovieTitle",onChange:function(e){c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&s()}}),r.a.createElement("input",{className:"btn",type:"button",value:"Search",onClick:s}),r.a.createElement("input",{className:"btn",type:"button",value:"Im feeling lucky",onClick:function(){fetch("http://it2810-56.idi.ntnu.no:3000/movies/movietitle/"+n).then((function(e){return e.json()})).then((function(e){m(e)})).then((function(){return m((function(e){return[(t=e,t[Math.floor(Math.random()*t.length)])];var t}))}))}})),u?r.a.createElement(f,{movies:u}):null)}var h=r.a.createContext({}),E=function(e){var t=e.children,n=Object(a.useState)("darkmode"),c=Object(l.a)(n,2),o=c[0],i=c[1],u=["#e7e7e7","#171717"],m=["#272727","#e0e0e0"],s="lightmode"===o?u[0]:m[0],d="lightmode"===o?u[1]:m[1];return document.body.style.backgroundColor=s,document.body.style.color=d,r.a.createElement(h.Provider,{value:{theme:o,toggleTheme:function(){i("lightmode"===o?"darkmode":"lightmode")}}},t)},g=(n(29),function(){var e=Object(a.useContext)(h),t=e.theme,n=e.toggleTheme,c=Object(a.useState)("lightmode"===t?"#171717":"#e0e0e0"),o=Object(l.a)(c,2),i=o[0],u=o[1];return r.a.createElement("div",{className:"theme"},r.a.createElement("button",{onClick:function(){n(),u("#171717"===i?"#e0e0e0":"#171717")},style:{background:"transparent",border:"none",float:"right",color:i}},"lightmode"===t?"Dark mode":"Light mode"))});function p(){var e=Object(a.useContext)(h),t=e.theme,n=(e.toggleTheme,Object(a.useState)("lightmode"===t?"#171717":"#e0e0e0")),c=Object(l.a)(n,2),o=c[0],i=c[1];Object(a.useEffect)((function(){i("lightmode"===t?"#171717":"#e0e0e0")}),[t]);var u={color:o};return r.a.createElement("div",{className:"title"},r.a.createElement("h4",{style:u},"The Supreme Court's"),r.a.createElement("h1",{style:u},"Super Movie DB"))}function j(){return Object(a.useEffect)((function(){document.title="Movie App"}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(p,null),r.a.createElement(b,null))}o.a.render(r.a.createElement(E,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.ff461627.chunk.js.map